# Test URLVector difference
# @author <jan.strnadek@gmail.com>

require_relative 'test_helper.rb'

class URLVectorDiffTest < MiniTest::Unit::TestCase
  # Test simple difference
  def test_same_elemnt_diff
    first_url = {:html => 1, :body => 1, :div => 15}
    second_url = {:html => 1, :body => 1, :div => 8}
    result = ContentTester::URLVector.difference(first_url, second_url)
    assert_equal(result, {:div => 7})
  end

  # Test with empty array
  def test_empty_vector_diff
    first_url = {}
    second_url = {:html => 1, :body => 1, :div => 8}
    result = ContentTester::URLVector.difference(first_url, second_url)
    assert_equal(result, {:html => -1, :body => -1, :div => -8})
  end

  # Test different vector difference
  def test_different_vector_diff
    first_url = {:html => 1, :body => 1, :div => 15, :a => 5}
    second_url = {:html => 1, :body => 1, :div => 8, :img => 7}
    result = ContentTester::URLVector.difference(first_url, second_url)
    assert_equal(result, {:div => 7, :a => 5, :img => -7})
  end
end
