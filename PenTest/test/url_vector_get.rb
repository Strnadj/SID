# Test URLVector difference
# @author <jan.strnadek@gmail.com>

require_relative 'test_helper.rb'

class URLVectorGetTest < MiniTest::Unit::TestCase
  # Method test get empty vector
  def test_get_empty_hash
    html = Nokogiri::HTML("")
    result = ContentTester::URLVector.get_vector(html)
    assert_equal(result, {})
  end

  # Method returns standart hash
  def test_get_normal_hash
    html = Nokogiri::HTML('<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>ahoj</title></head><body><content><h1>ahoj</h1></body></html>')
    expected_output = {:html => 1, :head => 1, :meta => 1, :title => 1, :body => 1, :content => 1, :h1 => 1}
    result = ContentTester::URLVector.get_vector(html)
    assert_equal(result, expected_output)
  end

  # Method returns standart hash
  def test_get_worst_hash
    html = Nokogiri::HTML('<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>ahoj</title></head><body><div class="test">ahoj <a href="pokus">textik</a></div><content><a href="franta">testik</a></content></body></html>')
    expected_output = {:html => 1, :head => 1, :meta => 1, :title => 1, :body => 1, :div => 1, :content => 1, :a => 2}
    result = ContentTester::URLVector.get_vector(html)
    assert_equal(result, expected_output)
  end
end
